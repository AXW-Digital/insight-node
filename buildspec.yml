---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiYlV6Z09YZ25DNEgxNm5adzFMNXNDcjRJbjRKR1ExZUdqaXpVMDZJWVZuZm1FdjQ3QmtNdFZXZUo1U3pTRkd1bDlEWFp1d1dFSFMzTFFsVGtLeXJ5YjBoQXVvUjdaRUpGU29Ka3NHQ3RZK3J1ckdZVERNZDRXTVg3RlROa2JVTUI0YlFJS0UrY0t5OVNTaUhVZ3hhUkNUWUNXSDhNdkplUnlpWElLM1VPd3E3UzBtWTh0cnEyRnB4ZUJiM2Y1dkdtcWxmaksyQy9oMnRNZ1h3TGxINmlGak1qWEFQWHhiTmptbGMzeENXSjE5ODRLWWFYYjRHWktTVUR1RVJNalhQaFFtTjFEZXRjSTZBbGdHQ1NqaXFna0VKRXhHaytmeFkvRDBTdUJUU3ZWOWRDUTg1R2tkQm1QaTRiZGVGQkMxUzlVYmxHUmZhcVlTS0V2MmVEeElIVlE1bDEySDFzOWNpQlQyVHhlc3R1azBFZzBlRVRGR1NxQkxnajQzcU8zRTgwVVhkS3NGSDRXNmo1WEVaUlVuTDQwWk0zS1d6elBSVFZQRWtXa2Vxc3BHblcrSVY2VzR0Mjl5b281MkdFMlhvMzNCbk4ybkhFM1pVbFpVTUhWN0JOWEMvRVlIRThubzhLSHA0SUdvdDJIUE12aFpVQVJGZHlWQ2VaOUZjZ3J4L2pJWk4wenBneXphY3QrRVVkYTBpbkduRFBWYXJFTVNQWE9iNEhzZW95ejNQZFJKL1BxL2w0dEx0V21zSGtkdDlhMEVyNXN0T1VEdURXbTJxekpOQkt6Z2xEVEg2WG5rcTlzS0hjblZjanBwaFowMTBsUzRiSXVDTmg2dnRTV1VtZnZjdWxTMlgxV2FUc1hPb0hNNnRQRUJBL1drNDFXVVRwQWxuTWlGRS9uMEFCQzBGNVBraGFTaTVkeFUycWZTOHBkaFNDYzB4ekZPYVhIUk43OGNhUEYwc2htRjF5VjZyRGdJMFM5RUFrRkRwcWtSK2Frb1dZMzB6MTdMSHNGbUVmY0k2UlpQV3d1N29WKzJzS0EzakFXQ1hPSG9JZTlsUW8rcGQ2eVFaTUs0S2JsT2lCZnFwNEJNWnRxRklCUU9TUElianphT2ZqZDlCK1FhYlhWU0dUditTYllnR1hsZDhWOTNxK1RwRTJsR3pOdjhxc1JpZzRzMWJsSEZuUmdPelgwVDJBZmx4VnBRWVYxRnRUTmcwOFVxVlZ1OXQrcDJ5OGtyVUgwUXZGbitEYm10U01JWWpUR203VlVtNHVacnl4M05TZlV0dGJ4dFUrUE1MNmF5ZWIxdnVaTmxrckxNVUw1TkI4U0E5QUJlbzBCdThFTUI1Rm15WkR2dDRtIiwiZGF0YWtleSI6IkFRSUJBSGhmckZRMmFJSXdGNVZjNzlSSEVQR25jVVd1cjIvSnpNOHQvWnpvRXRSckFnRWtwYWd4VjR0U1ZQQXlTQjJRL3J5b0FBQUFmakI4QmdrcWhraUc5dzBCQndhZ2J6QnRBZ0VBTUdnR0NTcUdTSWIzRFFFSEFUQWVCZ2xnaGtnQlpRTUVBUzR3RVFRTXdmRDEzRkxPVlhEZEJwcnZBZ0VRZ0R1Vk9weTZJbUNJSXdOQ1BDd0FjZS90UURRUnFsaW5lT0FTd2NrQnVYTnVpME1XS3RES3ExN1NFOWw5OXJYaE9oeFBVK0hjUUNiYURQTHlFdz09IiwidmVyc2lvbiI6IjIiLCJ0eXBlIjoiREFUQV9LRVkiLCJleHBpcmF0aW9uIjoxNjQ1NDgzMDIzfQ== 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
