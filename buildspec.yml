---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoid202dFROQjM4T1lQbnVnT2NVaU1PcWU4cVBjWThYeHpXcDVKUWpOeEJiZTdEMFpMZnVkNFVhMnFrVmVSaHdoT3crMUVpQmdid1o1Rjdyelovd3hJRmI2MGg4eFIzYTAwYyt4WTNYSS9RcEduZFRqMjZwNmdtdmtoOHRuN1FIYzMwbGpLQi9MaExNMWFXVjVEcElOSVYrNitobmJ4QXNGR2hPcjF6dUN5KzNEU2ZGVEZLcndBR25iSFcrUDVjREMxSUtBRE9oN0FTV29abmNzV0p3V0s0UlFRcmZkMlZ5elN6ZUdOMlZubmtmSkZvejZPU284aDViNDhwTXkyc0NKV3poZHVIKzdkLytlU3dlN05WaFhNRXZkT2FOaHVyZG8zcm92c0xaYVpseGpzNFNEVjFUaTJNWHBnY3FJQUdjc2EyVkRmb2h0aHZOZVBzWCtPbmNtR29KY1NKeUw1QTVSbjVoR1Frem9iMHdINjRwT3JUVGI3aC9uLzBOR29qRm5sdHRGVEtqM0FRWEZyUUQwbDZNRUpDWlgwQVQ2MFVYMXpITnl2am5VSGF3NmlsVnA5d2dJN2ZYRUNBMUJ2K05nUFR5S0t0RHMvVEFBcTl0dElEK0hseVluU2ZEMkdNMHdvZ1ZTelpFUTF3d1NiM1BJQU9Cb1J5elc5M1Qwb0xPK3J3ejNCbEJjSWdDa3lqSTZWSG9wajQ0NUNkaTBVMjFaajdhMXZCSEtxb2o0ak1LcmZXYUNqZ21sOHhpQTZwckVWTEhUeStYclZGOCtVTW90cUUvb0xGTVM0cWVWdEVFSWlyelJnMUF1V2FkQTI4UmZSUSt5cC9yNmxKTVpNTjRCd0NNbXU2OTY2QXdLd0dONnFMSkJ4b3VxNVQ1Y0RxNjJKcnRJYUo5UXFsN21PZnYrMTZESFViYWg4Q1k0VHJNWUowbzZtbkNWT2lLL1BMbkZFdVFTN3laVFNwQUgzaW1HYm5CUXIxbUFsZ1ZDbGtycWg0NDU0NnFzRUVYODFnZ3JiMHRac1VkbmZUWVNKbEwyRUF1V0JLUGI5U3lybnU0cXdzSXgvQ2hHbzFXUnVRdkVuNjNpa0FvUUIvUjVGWDFVZVlIWkoxWEZtbG9Ca0FFR1o1SWwwaWpid1gyL092YjcrVHpCOUZ6WS9CZ3BLSjhwckd1czFRNjV0ZjlHb2pCRm01WUI5NWpBZlhhUUhUZk5xSzdzMUlvU21kZ0l5Z1JuekpKRTZFTDR5VWZSSnJUaWM5MDVxMWNQbVFDc2NxMkx6T0JGRlJGaDFTenNuVEJ3Rit5eGhVTCtUVGhXSWpCRFU1d1VVS1ZlT1RPZ2ciLCJkYXRha2V5IjoiQVFJQkFIaGZyRlEyYUlJd0Y1VmM3OVJIRVBHbmNVV3VyMi9Kek04dC9aem9FdFJyQWdFSDRPZVlPZ1VlZnFRSXBRNW93cUgzQUFBQWZqQjhCZ2txaGtpRzl3MEJCd2FnYnpCdEFnRUFNR2dHQ1NxR1NJYjNEUUVIQVRBZUJnbGdoa2dCWlFNRUFTNHdFUVFNczUyM1YvSDRjVUhiSVVGTUFnRVFnRHNUa3VnbHRKUi9WNjEwYmQ3cVBmeWo2Mk1jeHlqcmFJcE5Yck9XamVyVGsvU0ljZGZWdHJSYkJLZjlBdzltU2hJcmJmOTNreUhsdFI2cTR3PT0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE2NDg2MTg5ODF9 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
