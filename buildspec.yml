---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiWFM0ek1GS2libE9yMkhUYzBRaFl5T2VBNU1xSmZnWjhMbmtaZ0dtdDNwOEd6Snk5OEg2eTVXRC9aYU9LNExDQm05MzdPTjRxSXVKN2JTVXBOMXVRelJ5dWNxMnZNQ0h0WlV6VHgxSmc3UnZ4ZUZLVUcyNDdWYkRLcFNqL2lDcWYzamNsL01YNVF0LzY1VXpzTVdoQ2FFN3F2L2UwYWU2dkNMcm5IQlk5YU1Oa0tkNkJBbjRSVno0V2dLT0FNQWgyc2taY05jSjJKbGY3QU1OT2ZPcU5PcU1ySkU0T3FpSDI4WFV2djVnSm54RjdJclJXTWtGZjgxOFRHaC9HVWJJY1FFL3NBaitrRkY1OVpYZ013cjNubFFIOHB2cjIvNytvM3lOZHE4ZmhVREhQOGg1aUM2RXR2NmxUL1pOdXEveDdFcnc5SCtobmpQb2tlbENuWmpETXc2aGMxQ3pLdk9ZL3E2a3dabFFaYVY3VFdQa0RqRGVuZk81VFVNSWI3UFd3am16cWlRdGd0cmZsbGoxUFo5NUhibEpEKzh1cVhDSjh0SUlBTitEckZJTk5UVEZxTWVLS0JEZHBqdU5vM2U2Z3dVNG5OdUJoODJQTGh1UTc2QmRVQ3BCQ2VjZGdjamJ3QXVHWS9LZVhhWS9xcjQ5elBTNFBwdHREZTdyMlMzU0Y3U3FWQjFFdTB4NUtyaXdvSlBxcTVIZVcydXNWM3RRRnVGRXFHV2w1SzVmMUx0Nlg2b2NnU1ROaER6bzQ3N3pBNThwVVB6SXlad1crVlhiSXN1a01qZkE3SEdPK0I3b29qcm5NTWVmSXVzbE5TOVBQU2FqVDBmaFB6VGxTK1czTHlZQWVVVlFtL09ISm1tR2t5TnZZSEVGVHBFZFJNYmxNQUFiajNYekVuMkhvbFBHdG1DQksrdHJDMm1tT0tuM3hqTWRXcWQwWThWeE0rMURWTlVQTUV1emRtMXdpcy8zNUNYb1poNXJEdW1Tbld0d3FVUW9Sa1k2b1g2a3U0RkZia0IzNjduRVpoanQ3dHFVNlEvQWdsYWc2YWhLNzJWR3B3UmQzVG43RU4rWjEzOUJock0wVThSNUJjalEzbGlXS09aNkFLbExYc1VBcVI3OHR5QXdtWVBlNnNxeHRqODRaU2sxYlJvalNOWGhwcW9GLzB3NjM5K281MDhCVXdOSDVxbHBKbjFqTXAwSUhxdklCQ3ZBcVRUaFlIUVVyQUtOVUFjTTJqNGlNUWNSM0dCeWEwa2pGRy96em5PbERMejdNcEpEeTRubjNMMGc0Nno1aXNkSUR0RER4SHlaYjVMZ0JUSUh2dXMyZU15VHdlb2dmbDBoN3BHQWIyd2NYaGpDR2NwdDlFRTVPZHo2L3NDOEcxc0JiRk5FPSIsImRhdGFrZXkiOiJBUUlCQUhoZnJGUTJhSUl3RjVWYzc5UkhFUEduY1VXdXIyL0p6TTh0L1p6b0V0UnJBZ0YrWDk4TWorSGMvWlR1R3dlU2I1LytBQUFBZmpCOEJna3Foa2lHOXcwQkJ3YWdiekJ0QWdFQU1HZ0dDU3FHU0liM0RRRUhBVEFlQmdsZ2hrZ0JaUU1FQVM0d0VRUU1aMzFRN3lrREMva2QyY1ZSQWdFUWdEdUppVmFEZDYzOElMT1VuUXdrVmpMV21SYjhOY2RFbTRSR3cvaHMvVlNKYnVnT3hQTHpQYzJQTy9jZEdaRlJreGJTOEQ2RWIxZXZxeDBZRWc9PSIsInZlcnNpb24iOiIyIiwidHlwZSI6IkRBVEFfS0VZIiwiZXhwaXJhdGlvbiI6MTY2MjIzNzE2M30= 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
