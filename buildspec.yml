---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiZW80aVY1Ry9yZVVXQUppek9YN2ZVVjgyczk0SnFzbG82TTU0ZWJkd2o2RDJIcVhkeGk3Q2UxZUFqaDdlQUJNNmdKcVB2QzRQOTQ0SUdxUGxPQ1lxK0h1a2pvZlhPNnFLZ3h0TFN3YTdvKzZOL1FvYVRVUkE2a214SmtKOEZYenRxOWtidHNZaEtHWlFmaHA0SVlMd1FwR3lJQjExOGlZbEJjYUFVUXUwVVB6cmJqU2x3U0w0VVd4blFKRTluTG9KU2xUaDkyVTAvQXdWVE9nNXhsNWlKQmk4YTVXRjZ3YjJaNjZPdnlIWm9Ha2dqZkxHck51ZWJtYmpFSUw2aUVGTnJLQ1Vka0pCbkVZaXllRzYzdDFEM3hVYS9EY3lYaUd5c0NPZ0FFbGtGVnFzbGFUNjN5Y09EL1NQVGd6MEhnZjJyMnd0QmpuYS81cUNreW56Ukd0QlNLTjBNU0hDc2t3eWF0dDhNY3pGT3VOVXpWNXMvOGVMdDFHREcwbVMyS0V4Nm45QWREMzA0UWN5V0ZKSVpscFNNWTZqeW5oc2k1NDlhYnZKREFJQVlkM1J5Myt1V0d5bmZDcUlzb05qa1FzQ3RoSGRMY0R1VWJ3S2JLNjJkM1lTT2w1eGhFN0tETy85OVVXTTVSNDZ6ZGdYYlVxcXNuS0t3dEdCSXVLb2tyaTNpSDFTR3JSbXRpOXY0bkRaVVE4a1hKL1gwQTVPcnB1bFMrN0RXMG92NCtkaFFPZmNSdlliSDBzdm4rSzdjakE2elYxeHhzcytXRlJtSEdxSENFYzRUcEl2cUNCbUwvS1Y0ZEowd2xZYjVVVlRUaEJGN0JZQjhBdGNGcGRacmo0TUs2QUswTklIYWd2NjNuUDEzSEQyTDc5Q0hla1I2eVJpTWJseFBXdGt1UGtxa3Q4VmRlUmEvYTlDVHFUNVZMYjlLQkszZmpCdGtNOVYxTENXL3dRV1dXZXZXZjJiTExDeTltUXc4L0lhaFJKVzlBTG5QZVVUT2FvdkxIbVZ3NWk5U3pXRjE0RjFESnlOQ1Z4dk1SaERmdEk5OGNncklqTlk1elJPS3JRa2xDVTBMQTg1ZllIMmVrQ0xoWUhsWDkzMFJVaGVNUk05RnQwUGlTUDY3Wm54bGVGenhRWW1wQmJocVBwVHNLK0dxLzl1eWtlL3l0TVFGMnhFVk93WUZ4NGFOQjVmMW8rcjFmRE1mR0RPTTVieGtQb2VVd2pWQmg5VENOVkFTb1E5MW10UnRvRE5KVXZlVk1DbGhRZXJQZ2U0U1JmQVF5S3U5ZFd4UVRhOG1RTnZaRTdUM1AxUkdDUnhzbVhod1RwWE1xU0NNZWttSGs5c29ESmtiWWpkVVB1Nk9TVEJQMm4yeGc2eWxZaEtpVDNaRW5RPSIsImRhdGFrZXkiOiJBUUlCQUhoZnJGUTJhSUl3RjVWYzc5UkhFUEduY1VXdXIyL0p6TTh0L1p6b0V0UnJBZ0czbmhwOVdyelpmdnFXc1I3RGVscTVBQUFBZmpCOEJna3Foa2lHOXcwQkJ3YWdiekJ0QWdFQU1HZ0dDU3FHU0liM0RRRUhBVEFlQmdsZ2hrZ0JaUU1FQVM0d0VRUU1lSElublZickw3WEtKbit1QWdFUWdEdnZQQTZXa3hJT2NlUitzc3czdmY4cGt1VXNuNDQyZmlaMkZCWncwRllsVTdYYXpJY29lMmNZTXBvWjh3MXJGOStlWDRqUnViT1c0MnNhb3c9PSIsInZlcnNpb24iOiIyIiwidHlwZSI6IkRBVEFfS0VZIiwiZXhwaXJhdGlvbiI6MTY0NTgyMzY1Mn0= 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
