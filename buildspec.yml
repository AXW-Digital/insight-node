---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiLzBUVSs3aSttUXhWNGtFUTMzbkVwbXhrNC9oN2w4Unc2K1lMb1U2MzVMMkh1S3FVTUhnQVJZbitSL3dSeHVsVHN3WlpkSTNTL1BGUCtjclhvOUVrUExDamhCUWljN3dHVlZrTGN0NFVmUGFQdjZVYVZpNUo1N3ZOVlNZVmFJV0JwZDFnVzA0Szczak1ZV3pyR0wrSDhmS1h2RzR2YUlhMHk1VCs3T1NhQ3FOcXVlUWxaY1AwcUpEdkJPeUpzZDFwbEtrZXc5VUlWMlpnVzdYdTdkR292ZHpPWWR4Y29pUlJHeWppZW9ZRWh3U1JMK3h3UWEydWJySnEvSmpnQWZ5R2Iva3lEK01JbkhJZ2tuY0dXVWJxRWdORFVzSE9Rd2RiZDVRcW0wZzQyNHRJUmRGS1RhaUJVWE1LUmVBN0kvTW9SRzVVNXk5RFg0Z2NUK1V2VFlQaUJnSE1VeU1zQWZFWlV6M2UrT1dJQ3I5RVgrQ3RmeHp6bHphMWFVd1dUMkZGUjBadjI2SDlmMnhpbS9odTU4SENJQUtROHRzU0xzY0VSbDhyVmhyUmI3a3V5SGl4bERKM3I0Y0dBZ2E5bnFuTzhiNmE1R21wWGRJWk04NVcvQitXZExSMk40bDRhVit0emkrM1U3QTAxY0NMeHJCZXJUcHQxdzdGbEVYeUVHYnl2ZTdUZmFOdHo5RjZkVnZNNC9vUDZlQXlwR08yTndmUHBHSzN2Y0o3T3FKTTZEczhBL01Ba1RNbVpZdnVITnZ6Y1lZSzhhNDZrTTZEamk1WkI0aXNqSk9EWTNFeldVaTYzSHFhVENJUVp1UjlCZDhJQnkzUFl3M2NkYnFUTEJ3SVhIcVlVeWhqVDd3SUVRclZ0M1lLZTBlZ3psbnpkb1FwZUszeGFqOE9IMFhXemxhZXRoc1VNRzE2TzdkYnhxdFUrTlpwT2NVU2dyUERXTUJEM0FpbVBVWXFBak9MbDZ5Q2x0VzlwbkcvbFNLVTJFWUs4cjV6TVJHdGZTZElqTDZlU2M2VWNGWlVPbzRmdXJ2N3pnM2o3bnQwZmZ2ZmQ0cFhUbTJkb2ZRMFl5R04vTUtBYlUzMjhzbmJ6SWQ3NGpUc0xSMTYwV2hXMFFwVStHcHJyMTlSVjhCL1FDRGo3d3NNNllya1NIT21lTTA0OUw3WnBpMjZJTlkxSVptS0hrdXNTTzBJRVVGVW85OVFVdndsZ1lDY2NnV3l5ZW85dTNVYlNaaVlUa0M0ZWdnWU5jT3JIaTYwVERXK2daVVh1K3BUaGpkd3JYTjVCdHRFcE9sWTZwQzIvV0dBdkpObXdKUWN6cmFMRFBqYU1CUjJKcy9CZjFzUGJpc1QrV1ByazcybWM3VjNBQnZxamx2N09Ra2ZNMTVZeGJaMkVaSGZuRTRQOTBUQTg0WT0iLCJkYXRha2V5IjoiQVFJQkFIaGZyRlEyYUlJd0Y1VmM3OVJIRVBHbmNVV3VyMi9Kek04dC9aem9FdFJyQWdIZXFnY3pWQXVJcjRTeEV4TFN4dFFVQUFBQWZqQjhCZ2txaGtpRzl3MEJCd2FnYnpCdEFnRUFNR2dHQ1NxR1NJYjNEUUVIQVRBZUJnbGdoa2dCWlFNRUFTNHdFUVFNdE9jUDFQdXlqOTVZYlBzL0FnRVFnRHVuQnZwckZUbjhtdjZCeDk1YlMyWW51RzE1VlVJTU1JZVJXM3crQ1gweklKMHdoS0JZVHE2TVBLRU1MQVdtcUswUnV3bWQwbER2QmFnSHVnPT0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE2NDcwMzkyMTF9 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
