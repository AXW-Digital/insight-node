---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiSEdJL0plbExHQzlOTmV2UGhQSUFXbSt5UHFzZTM4MHpXQ3lBNXFwMDJ4R0UweVdJYTBwbG14UjNvWUsyZm1CelNMcS9CaThvUjlzNDBhZXJEa1FsL3hYZjAwdTZtS1BOZlBCNklaNzh3UkZaalF0aU1OaEt2K3UrRFZJL0hkUHlLeGFxZ3lCSnhSRUFIeFlaUXBueXhWU01xZ0NLL0pDMTBKZWhTMGRXQ0Q3MGxOd2wxNmRYY3dORjVjeHJaOElUTVZKTytYQmdnc2VnSHE4a3FmRGQyZXhKWXFJS1Q1NDdmQk5FRmEyQ2FTWDFjQXEvVVNJeHFsVUtXcUdSMnNSTEpyM3N1SGRkWmVVYUZIQ3hqWFZUSUdtSlJzSlUrbXlOOG1wSTcyeG0xNHpvdVFlaURYY0lqZUtVeFp6akZmK0tJT2wveEJ3b0k2TkxQTUpYemZobVlOUzM0WHpvWktTNU1ROW5GMWtra2lHMlFsbGVpSXNsL3VYempWREJoSjB3dnFTQ1dPdUZ0QUdQL2tXM29xZGRtVGYzT1BRdFl3UFZzb2FBODNaekhXWnltRHgzWEJlVzhwNlA1bUdsRVpraWtQTXdubnVLUlp3cEpweEhmVFpyNXlzUkNISW03Z1BmMkhnM3FYMTZJZHFqa05obmpyWmpocDJyL2xBcFhUSUxGVWtpMFpwVjl5ZlJXbVdsQm56MjVHVU04RHRBMS9rbndacHZNSWxlakF2Zy91dVNyRjZwdmVNTDFXN0tnbnVIZ2t6WHZhek52cFkvSjR3Q05ZWFUzKzB5bnZiL3AySFlidHhrdi9KajA0YVpXc1BVWU55T1prRXI0cStYYnpsZUExcWRoeWw1VzRyNnU3ME9Kb3hiY3pSWVY3d0VMSzdRM2M1MjF1eFJORUVTSmo1Z3NSVnVnRWV5clZvWFk2K21qQTI4Yko0UHAwSHNDRUM5Q3BSOEJLM05KSFJTNXRQdmhiZmZOYXV5TWgxU2pSdUt3SXQ0ejY5K0tyWnk1Zms2c0JKK0hGRFBlY3B3akRKUlFhODZYSE84ZFNpSU1ESUpkd2I5YnBwZ3hvRmt6R0dkT2hZTUF1UFlsRTZSNUI2cjdKbW5Nd0p6TGhzZnp1SzE5TVZqc2UzNFZwMzZFRHBDMjh0N2NFNmEzbFpSYS95L1FzYTIvUzJVS2xONGVNYzJNRm5qL3U1dTBLNFM1c2NaSzRGcWFNWE1yZFFpWkVURVhvSy82OU1CU3cyS1U4TjlSSzVYUGlkaUFMTlVCUm5QeUxwOFVzNWhZZWVrZG5ja2lMc2NydDAxQ05ZNXZXZHNhMm1zS3RLVEp4WTEiLCJkYXRha2V5IjoiQVFJQkFIaGZyRlEyYUlJd0Y1VmM3OVJIRVBHbmNVV3VyMi9Kek04dC9aem9FdFJyQWdHc0lDUm1CSXNZSStwbktoK2tPNVNtQUFBQWZqQjhCZ2txaGtpRzl3MEJCd2FnYnpCdEFnRUFNR2dHQ1NxR1NJYjNEUUVIQVRBZUJnbGdoa2dCWlFNRUFTNHdFUVFNQ0lBS2g3V2N0bTdaNlg5TUFnRVFnRHVwV1lsTEc5UzZOMVJqYjl4WG5HZklkZGF5UGExLzlrYmh2ZW5yREhzWE9vcC8zd3ZMNGxPcEFmclY1S0JQdGg5OG9ORGM2NjN2blJQT0xRPT0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE2NDQ5NjY3OTF9 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
