---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiN1FHUWxhWW5GWm1WUHdVUjByQ0o0NE1PQ0Fab0U0ZHRyTitncGdpY1djYWNvditqb1FjYW1YVGoraHVNOURPV0tkT25KOHpHbGtmWkFTdy8xbm0vRUVQcEgzYXlOWEV5QXlXN0JKZmVZaHVPVXgvYjljVDRrbFk3YjVya2dwU3Rpd0JLL25DYmw4Yks5aFVFajA0MHNSV05Fd2dYbjdBY0hreWE4aVlBWTIzR1UwZjV4enlEd0gvaXRhUk1qN0NqQUtxNDJjOTFkQnZuN1FZZGtYTllvdVI1a09peFhONUpxRFovcjB6ZVVVdFRJd2ZzanVMaFdIK0NMY21NUWxieDh1d2VIVXJubjVMZVZZalphZmRieWJHYXh2S2dwMVk5dkpXMVJvVVdSZHRsc1M2R3JKeTZpWklBQ1dIYzJMQUtiUjloRlQycGNIUG8zYUhCZVNoay9LYUxoQk9WZ2RmaTU2cjF6cUVaamRObmt5Q2dLRDk2N1pyUzZYUkVxMk92TU83ZGJMT2MweFdzaGFNblVlTWVFTVBjSGpVQUY2M0FLU2hkV1lUZU5vWWpiVWNNZHlDa1kzUzg2MEc2eVRZMEtnOUJDSW9kcXpHRmY1N3U0NlFPTm1TL1J0Rm8xTEhqbUIwVmd6eDFMYTd1OWVTaE9RMW50a0JJQkg1QzJKRGMvU2N1UFRZSHhEY0hYSWJoM296a3AwQTBMZDNaaksvTEw0S1lWcW9aRlNzdVNqRTl1YStSWlBvb1pGakJUZ01yWnJKZDRNejFqcVAvLzJHYWxtZGh1TUoxd2JHajJISVBUY1FaVFhGY056VEZIbnlXK3Rjdnp1S2lZQm9NMlo5MkpuSVBrRWpkTWxPdWM3WDFzL09kWjZGZzRRRHc1b3VyOXk2VmRIZHNSMVhWRzVmUTBwSkpyZEJhZDNNUi9xMllmRG5CRm9oRTd4UThZSnRqRlJsVkMyWUdhVE9TOWNCS2IvUnRDdlB6bGhTM3JhNWVNNlNqcHJHNytobTRLL2syNjhVYW52VldkOXl4cDZ0OUxTejNFcDJBSXhBR1BuSEZNVTBhWTVBNG03SzhzcExxa3RReHdNc2ZvcFhMVDFySFR4dWdENXZBL1NoYkpFSitWVk1jZXFBVW81UEJoeUMxanluYUlOdkc5M2dENm14NU1IdXlxU0pacnZRajBRMjZXWWxJUG13bjIrc2wrejBaQWxpTkVScXU5QVd1U29NNXAxVDlqT1VMKzgyZHdnTUtPcHZVN3J1NFVIdmxpN0xlSHB6dVpwWW1xQ0VBdE9NdS96QVlKOFk4aE1zcFJYRzlZUmtqOC8vVnhzYkF0Q2Zzb3psOXEvclcwVlE0IiwiZGF0YWtleSI6IkFRSUJBSGhmckZRMmFJSXdGNVZjNzlSSEVQR25jVVd1cjIvSnpNOHQvWnpvRXRSckFnR0R4eFNZNmNMNGdDMzd6QUlvNEV0dEFBQUFmakI4QmdrcWhraUc5dzBCQndhZ2J6QnRBZ0VBTUdnR0NTcUdTSWIzRFFFSEFUQWVCZ2xnaGtnQlpRTUVBUzR3RVFRTVcrT1FJQmFpSTM1bjF4NkNBZ0VRZ0R1RzBkSEJOaWNvaFNlelVrWW1ILzVDWEMrR2xoQWl5R2k2WHBaMUk0Z1dTM01tSjVESGEzU2VTZi9DMFkwbFI2SFk4VE9KYndEdGlQbDk0UT09IiwidmVyc2lvbiI6IjIiLCJ0eXBlIjoiREFUQV9LRVkiLCJleHBpcmF0aW9uIjoxNjQ4NzU1Nzc5fQ== 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
