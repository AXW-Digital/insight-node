---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiQ2kwSHdST0w4ajgyQVY1ZnBrK0JPRkFWaWlrR2pkUjM3aEplTmJFYVBvNGJXampuUlY4WXdKWnozNm9qTlcybWQ3UWVjUmdDNDY2Mzd1OHRDNFBWRDBVdys0Q3lOR2V6Q1FaUERVaytBRkZPVGFWeTFRN3l3bFgyR2tudDR4U2x1Rng2aGl5WVhrMCt0Y0xTUFFNdE5RYmVmRERvTTJuOUZDOTRKalpFVENuRHBvVmFEV01ZNE43Z1dVTm15T3RMeEV3NmFUR2cyRDBXNTNSRnYvbVF0eUk1RGp1SXVuclBlNUliclc5Z29QbEJuUERseVVkeFZ1V0lld3BpdDQrM05vemQrUlpaUkpkTDJVUkpWUlJ6eUM1cllpdVVIS0NQcDlzTzR0WkhxS1B6cGorN3Z6UU1HRU9zK2o1LzZsUU4xbWU0djdFZFhUcTkyNjRPZDBNQkNRcCsvakYxWE1kbWZ6MitQY0FTWTFZN0pXZFczUFduMjArMEtJTGdvaVZtdTlDUTBsZldySCtyZzBFK1VTRnVGRVFKOXBLUVNwemE0ekUyZzVYY3ArUTFwaVc2b3l6NVRqNGtjT2pRM1RFY0I2c0toTEtUdzIrSlhwUlFWMTZKVDV3R3kxeVE3NUhBV3pFdk1mWnpuVWxocy85ZXhvaXh6NWFyb2dOT0M0WUc3c1pwbVlkMlhybG5oYzdyenRSNXpkQnNZMTlEOTFuZ2dsZzRhUzI1SXMvR1hrRTV0ckx5c0w2TlZLWlFOS0ZZaTNMSnQxRW1Rbnp1MERJcThKRCtJbG1uSWVncnZ6dTEwY2RUTTEydUc2US9VZVdDZnoyYzd2WEdWVGE4bmNBWGh5N2FUMDArdllUdEE4UzBaNE5DTEJqb0RNbmF3NDNzRHNPeEY1N1hOajZmenhlbEl1UVdHOUdTVFdUL2dTTHFPdTNzSk9ta080QkR6eFRyMGJYbENKQXRQSzBGYTcwVFJHN3hONXVUR090R3pkYzdONENqdTYycFdsc0pMbmxrNER3ZW0vQk5yS0N4M3hMS2lHTlpTdHNSMXJ6aCttRzhNZmRqWWUreG9FN29DTnVCODBYaXhrNkhScVVmNHV1Y3NmbnlaR2JZc3lyR1krZEcrWmVUUm1sVk9UMHNWZlJ0SisyS0x2aXJxTmY3dDE4SmhlMjlmdk9ILzdocjk3cE1kdnlTMVRITHhTRzVrSFo4TFZ3OGFmWXdxdnhVcXdtbGQzMDhPa1FVNisrQmVxbFJjY3VCbmtVeFNvV0JrSG5WV1lxV05UczYzemt2ZFJyc05nbEttWWNwb3VVcDFzZlhMVG1jaUN2SktmNkdYenBnZlRhb21TdDZLM2hzTE5TYUNSS1pwRnZpays0OXVqU3lYNHlXZjg0PSIsImRhdGFrZXkiOiJBUUlCQUhoZnJGUTJhSUl3RjVWYzc5UkhFUEduY1VXdXIyL0p6TTh0L1p6b0V0UnJBZ0dNaFRlZ0xLUFliZ2c5bWg2WWI5YzRBQUFBZmpCOEJna3Foa2lHOXcwQkJ3YWdiekJ0QWdFQU1HZ0dDU3FHU0liM0RRRUhBVEFlQmdsZ2hrZ0JaUU1FQVM0d0VRUU1aTWZmUW9ZOVRGb012cDF5QWdFUWdEdWZ0TE84OHpGS3BxSjR6empXUXR2cDlDK09NcTk1dzYrK0Q0UTkwYjVOZ2RmRUY2RWc1K3g0L3RxcHFKc2tEc1k3QUoweTZkaWkxa2Z0OWc9PSIsInZlcnNpb24iOiIyIiwidHlwZSI6IkRBVEFfS0VZIiwiZXhwaXJhdGlvbiI6MTY2MjEwMTExOH0= 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
