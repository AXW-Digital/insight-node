---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoibEs1ZlNXTy9uT2x3aFloc2lmaHpxS0dvd1dwQ1hzaWZZZFMzWUxuU2VoQU9oekVrT1pLL2YxN2lXNUowckJwcS82QVAvRmNXRGQyQ2hpOVlSVWUrS0pPaVRjZi82R0tldzBHOXhCeGEzVjdWNnRUb2Jjd0pyVHFmYndhY3JKTVVzbE1TaEI5Z2lnRjlwSzFzOE9kRzl4WXJjRTd4ZmoveTZkZHBySktqcTdxWHFaOXNwNjlnYlI4MFdMOWk4Y3BldmVJY3J6TkswTVh6eXlqNjVLVXhuMGlpWlc0OTVpTm9kdERrdCtpTWJVcG5GRWhjbFY2aWc1S1BtcG12Uk9SYTVFVXVxYXRHdVg1enhLQ05BVEJWc01qL1V0RUx2WlBJeXluNGZNYnZ5dnBYM0U0SXdyUW1JbHJXdll3dXZRS0dLMC9kbjRhbnRxUXk2R3oybDBGRWtDSmhGTDc1SnN0emY2OXFEdXNmbWMwaElZOG5Yb2NIa2ZoV0pLQ3JjeElzN1ZRcDd4NldnYytlMmJReGpKNWliSU1sK1Z0eFZiUUgyVmg5N0FvYXBTYUxOU0IvZllZUk1vWFBrdFlxVUJHaFJqNVhsMzVkQlh1Qk4wRlN3ZkY4dnRncU1JQXcvbjhrdDRFU05ScTl1VmpWejVXL0JGMjVFOFo5TVNGaytpMkNmQ2NXZkJ1RGUwekRKeU92Rm9XN1FTRUhCOUdPaHdwQUNrTmdsL0VkdjdqKythUEY2M1k3cmdnekxtbi9CTVJBVDN5NE9rNUF2V2pKdWt3dGFBaEN5bkNBa09Cd3BTLzZMQnB2UDNTWVRIZHFuOVhUNG9FcnVtYUNQdUlJMzNxMk5LT213Skh1dGhKb0s4M1QrWW9NUDUxeGdkcGFnUlJiVEEyK0dHL0VneGhLdm5RN0llSE8yV2YxMTd1bDJnYWJjR1Z1RHZ0dnFHWlI3TkRCNWtETjhHWVdPWWcxOHV3RVBialNwOHRUajJHL2VkWTRRKzl4cmFDUjhtdEEyWDhGWkJoRDJHUWRIdG0rQThzeVhmNW85LzFwNVZiZWU5K00vRzdpTzN3NW5GWU1SZlBtZkNKYklidXpjcVJMekthVk01S2dlUUVwQjlvNko5MUo4Yk1EZEg4TXpHeHpUT0hPZzByd3R3dG9OTW1NWjAzYnlUOW0rcStnc1BnclZlMTNVenorYW5WcE9XMHlndUdEL2plSTlpbHNDZmJXR0Z3R1BodkRaS2FqZ2I3Ly9CT0p4a0kxL3o0OU1GUzdWRjcxempGTkNySUFoYVkwNnVEZWlUVm55LytKbndONDFmTGhBWlpwSXNtWFJDU0NlYm11Z3JGcHZOYXBrRnBaaE5yTmdOaXZpTDVJM2lIMWUwdTNrY0RrQlc4PSIsImRhdGFrZXkiOiJBUUlCQUhoZnJGUTJhSUl3RjVWYzc5UkhFUEduY1VXdXIyL0p6TTh0L1p6b0V0UnJBZ0VKclRMUlJSMWNKcGI3ZWd6MFcvNnNBQUFBZmpCOEJna3Foa2lHOXcwQkJ3YWdiekJ0QWdFQU1HZ0dDU3FHU0liM0RRRUhBVEFlQmdsZ2hrZ0JaUU1FQVM0d0VRUU1lTUY0WG5PVFFBaWhxdmwvQWdFUWdEdjB0c3pFeEpaZ05pUmZwQVRXOTB4amZpcXRYajA3QVBReW41NlRqZG1BcU43US84NkpXN096NzhVK1Nma0w0a3BueENuRW5pYURRenFHSXc9PSIsInZlcnNpb24iOiIyIiwidHlwZSI6IkRBVEFfS0VZIiwiZXhwaXJhdGlvbiI6MTYzMTczMTQ2OH0= 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
