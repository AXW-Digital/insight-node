---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server && docker build -t axw-digital/insight-node ."
      - "cd server && docker tag axw-digital/insight-node 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoic25tQ1NRVzdYRVhLZitsbUFHUkFVODBLNFpxSUpWSzN3Wlk5YzFMVmdJRGxrczZYOVZ1MnJhWjhPcEZ5V0xGYXQvM2EyVjFidFBxeVlkVUFmMEh6TU5ncDlMNHJuQVBBc3YwZnIycGlqTHhRb0RJRmhndzFjc1JZdzlnNkkzWXZDbFh0UzNEQXdRSnNGMlBDZUk2OUVHU2lCaHZBZ0RjQzI2UDlmS3E4WiswTGtpNnJjTUtLQ1YveTdvRTRNNjZ3TDhnQUlmTlhDZTQ1Y2tCQjY5MFNNWHB1SGlMYVlOcEF6Wjh4bkZTV1Rpa3hMenFZVnZieEVrSko5WEhRYVcyUEYxSE1HUEFNQlIzMitRZy9kVVU2U3JrdTZMU3N6VWZBdzQ3ODRYSDM1SllXRFl1QkcyYkdnZWxiMnZyZlJsNUtsZFp5STBlMXdXTldEL1VLbFFPQnNwWXVSNVpSeXRuT2dGeWJiUWJwS3E4Y0tDbnZRaWFxK0tqbXIwT0pmOEVFYnZDa3U3NFRsa0V1bjM3am9FVWR5SFNJdWF5UkdFY3JBV2d1QTBiZnhIZFRZRnhXRDR1SUtkSzQ0dzdMNGZIWVRPY1ZOWk1tQm02SFE1ZFEyZ1hXQ3VESWt4V1J5b0V0YXFsQjJSbCtXZXVUNExJVFJKOGNNY1ZMbTNIL3NiL2h5cTk5VDBMUlhFdzhvejJrZUJZY0w3NmJCOHZtS3d0OGIyV0ZvdDQxa1FlZGdRN2p4SHhHODBHM0xEcmcwUXdsZFd0eS8wYTlEajBRTmQvUGNRb1R0V2ZJanVuL3c1VkU2VjIzQlBWS0dFeHlzZHY0Y3hFdHBtRXFZaG91ZTUvMGVJSExVR0w2OWZEUGNBNDhWelNSWVp3WUhzY3ZlUkppS2tSUlhBYUdnVG5xcDdQRSsweTUrbWVvWjlDc1RmVzZnMHRFcHpaSmZteDFhRm5lMmV3T0xiMi91ZGRSYTMyQmRGOVV6Qlh6bFFoT29QcHZtTzk5MmVJd2lmRjQ0bi9pTzFxb045Y2l5WWZLNGxUMWgxQmVNTVFZOXFIUXc3MDJzMmZuLzhGcjFxRTFRdFE2RnI2bWZLTHZNR2RCMXRpVHRNN05Vb3lKUnVPeDF4KzhGeHRXdG0vWGVLb3E1N2pNYXhQY1JuM256Q0RiN0pnYXR4K3ZxdkUwbnIxM2Z3MlpUWFh1bU11bHI5aXlTU3phWGM3UXhkZDB6TWFTUEhwNnRYSTNrMVFhZHg2ZnNjeTNTZlJMSXdwQ3pLZ0p0aGRCMzFOOERReHZlc2ZEVXN3NWNDckd4NlRJUThqbldYajlWZTZmczJNQVAweUgrZXZjRzVaci82TFRIb2VMIiwiZGF0YWtleSI6IkFRSUJBSGhmckZRMmFJSXdGNVZjNzlSSEVQR25jVVd1cjIvSnpNOHQvWnpvRXRSckFnR1NzeDdIWWZGclF1K2FjRHlQc0dpa0FBQUFmakI4QmdrcWhraUc5dzBCQndhZ2J6QnRBZ0VBTUdnR0NTcUdTSWIzRFFFSEFUQWVCZ2xnaGtnQlpRTUVBUzR3RVFRTVIwNGgxeWxPanZmSEFFL1JBZ0VRZ0R0ZFpZZ3RYNjFyYUtuQTZjSUZjK2ZZVkh1UnQwLzFkYTRzR2pFYmNpeU5POGdnZ3BwV0w0czFQYXduMEhkN0czNml6NElNTk02NU9OODZvQT09IiwidmVyc2lvbiI6IjIiLCJ0eXBlIjoiREFUQV9LRVkiLCJleHBpcmF0aW9uIjoxNjQ1MTM4NDQyfQ== 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
