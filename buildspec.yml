---
phases: 
  build: 
    commands: 
      - "echo Build started on `date`"
      - "echo Building the Docker image..."
      - "cd server"
      - "docker build -t axw-digital/growflowapp ."
      - "docker tag axw-digital/growflowapp 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  post_build: 
    commands: 
      - "echo Build completed on `date`"
      - "echo Pushing the Docker image..."
      - "docker push 740126133497.dkr.ecr.eu-north-1.amazonaws.com/insight_front"
  pre_build: 
    commands: 
      - "echo Logging in to AWS..."
      - "docker login -u AWS -p eyJwYXlsb2FkIjoiamxiajNZeUNEbHVhc2dtTTN3bWpqUmw5czBEekhKZVV0Qk85NDI0RHhRaVl1Z2p4WFl2TGw5NGRNaXNsK1BpTm5nSVlTeDNqMmh6Mk5UdW93UysyTDVGc1hQUWFWVXptRHI2blZ5WkhFL3Fqa3I2Qnd6cE9KVkdPWDNNbW0wVjh1U2lnRmtUSUJqeFJnNzNFaDY4TE1EQUo4Rmo0R29zRGQ3bkM4U08raWIxNkJRblRueEVoZm8xWGVPbDcrUWNFc3JNZ3pYS3pGRmRCLzRJQUlkSDRpckFmYWdMZkFXZVFQMlZrcUM3aU9VYXpRaEFGdUY3OHFydElTZy94TDVQVFlvOEt5K2VVTUFZaWREMHJodHZzVXVEODNCTHpDM2ZnaHZ0U3VZZW16dFE1SC9IV2FhZXFEU2gvbCs3Zis4S2Z0YzloYXpHYW1JZGtadnI5QmFGdkMxZy9tMEVHSkNzejE2b1dyeWFUeExQblN3YU5yL011T0J6MVhaK2lqYmdQVHBFNVZhRkJ4VjVmM1RmWlVxNVp6RkhPSXE3ZUFPbWJQR1Y2cE5mdHpMTmtsRXYyU0pNYUxiV2UxWUNldXN0Tm5sejhJOEdjMGNrSkNISWdvSUpjT2V3Z3BYQ3plSlQyNVo3VGhIS1RhV1hjRkdZeVlFcUZVWnkxTHhwV3hVWEZWcENTSCtTNmQrakRFTkdrMERPNmV6UUNuQUZrdG9FYkNmWHZ2LzdTdFcrOTh5N2psMU42M3ExL1hVeUZJYUpUUnpKQTRiY3M3T0NKd1RBc3BDSmlhbVQwcTBBMEQ0NDAxWGQ0MVIxZXJQOVFjVy9hc0hkTUlyRmlwVS8veW1DRVliWStXQWZsVEg0a09XWkw5WEQxT0x0L282V0Q2dzRINFhReGU4WGQyaDhJcWV0L0VZd2F4M3YyUkU0MmhHNm5tN0RLZm5WYWFVY1E5dk15d3psRUJDbzg1R1dtK0RISWV4SVBlWmN1MXhzdndnN0hMUEJaNDFWNXY4Y1hHbi9pTlRlamxIRjhDck14S2VZWDlvZm40Um1LZnlIbFZIck12eDJabnp0a0syT1dWWmU5RUVibmpVUzdsNUQ5WFdtZmlOeDNZdzU2QlByZzFvN3Z6aE9SNG5yek81cVBvZUY2Y0lxYm56b3dSRHlHalN4RVd3b29XemZzMDdpWDRDbUpZS0d4Q3J1MXliazhLYjg0YXEvR0psNm9BbElkb3dvOTN5cDlxenEzbld3QlZzYnZPd21yeFI2dCsxeU1rTHlBbUVVQXJuNmZPbFRzd1B5b1orbWdjRFd3UVN1VVZLNXg4Um9IRTN2ckJyRkdkR1RCSEhuN0xZWFdRNC9kUEYza08rWHhOUi9JeThDcXJOTnljSGdZZm9jQmZHL0Z0bHpTNitjQkVDUXUrNVVsc2d1ZldyakM1a0J2WmFKeGZDZlR4eHpudGtJRmphSkdmMUNhMGc9PSIsImRhdGFrZXkiOiJBUUlCQUhoZnJGUTJhSUl3RjVWYzc5UkhFUEduY1VXdXIyL0p6TTh0L1p6b0V0UnJBZ0VjN0hTQ0VEUGdEOWMzWEVWa0FSNFZBQUFBZmpCOEJna3Foa2lHOXcwQkJ3YWdiekJ0QWdFQU1HZ0dDU3FHU0liM0RRRUhBVEFlQmdsZ2hrZ0JaUU1FQVM0d0VRUU04N0UzRElIZm1STjdQQW9tQWdFUWdEdmpRNU03QTJkTzFsRlVTNDZoVE1WeTVZeFRhbU5zUzB4VWRJWEhucit1KzJtdnR1aHJSWEVCdWdOeUV0TklSZXhyQ1NiODhPTGl1bzU1ZGc9PSIsInZlcnNpb24iOiIyIiwidHlwZSI6IkRBVEFfS0VZIiwiZXhwaXJhdGlvbiI6MTYxODg3MTg1NX0= 740126133497.dkr.ecr.eu-north-1.amazonaws.com"
artifacts:
  files: 
    - "**/*"
  name: "s3-to-s3-latest-build.zip" 
version: 0.1
